# gdb

- [命令行](#命令行)
- [vscode](#vscode)

## 命令行

编译时要带 `-g`（`-O2` 是可以调试的，但会出现一些代码对应不上的情况）（不 `-g` 也可以调试，只能用 `si`）

启动：`gdb xxx`，然后 b 设置断点，然后 r 运行

- `l` 查看源码
- `b <line>` 设置断点
  - `b file:line`
  - `b symbol`
- `info b` 查看断点
- `delete 1` 删除第一个断点
- `r` 开始运行
- `p <var>` 查看变量
- `n` 单步运行，跳过函数
- `s` 单步运行，进入函数
- `finish` 单步运行，跳出函数
- `c` 继续运行
- `q` 退出
- `display /10i $pc` 显示 pc 寄存器后的 10 条指令
- `si` 运行一条指令

## vscode

安装微软的 c/c++ 插件

运行和调试，点击创建 launch.json 文件，添加配置，改一下可执行文件路径
